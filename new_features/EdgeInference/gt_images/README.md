# GT (Ground Truth) Test Images

## ğŸ“ ç›®å½•è¯´æ˜

è¿™ä¸ªç›®å½•ç”¨äºå­˜æ”¾**é«˜åˆ†è¾¨ç‡(GT)æµ‹è¯•å›¾åƒ**ï¼Œå³Ground TruthåŸå§‹é«˜è´¨é‡å›¾åƒã€‚

---

## ğŸ“‹ ä½¿ç”¨è¯´æ˜

### 1. æ”¾ç½®å›¾åƒ

å°†ä½ çš„GTæµ‹è¯•å›¾åƒæ”¾åœ¨è¿™ä¸ªç›®å½•ä¸­ã€‚æ”¯æŒçš„æ ¼å¼ï¼š
- `.png` (æ¨è)
- `.jpg` / `.jpeg`
- `.bmp`
- `.tiff`

### 2. åˆ†è¾¨ç‡å»ºè®®

- **æ¨èåˆ†è¾¨ç‡**: 2048Ã—2048 æˆ–æ›´é«˜
- **å¯¹åº”LR**: LRå›¾åƒåº”ä¸ºGTçš„1/4ï¼ˆå¦‚GT=2048Ã—2048ï¼ŒLR=512Ã—512ï¼‰

### 3. æ–‡ä»¶å‘½å

- æ–‡ä»¶ååº”ä¸å¯¹åº”çš„LRå›¾åƒä¿æŒä¸€è‡´
- ç¤ºä¾‹ï¼š
  - GT: `image001.png` (åœ¨æ­¤ç›®å½•)
  - LR: `image001.png` (åœ¨lr_imagesç›®å½•)

---

## ğŸ¯ GTå›¾åƒçš„ä½œç”¨

### 1. Edge Mapç”Ÿæˆï¼ˆä¸»è¦ç”¨é€”ï¼‰â­

GTå›¾åƒç”¨äºç”Ÿæˆé«˜è´¨é‡çš„edge mapï¼š
```python
# è®­ç»ƒæ—¶çš„edgeç”Ÿæˆï¼ˆæ¥è‡ªGTï¼‰
edge_map = generate_edge_map_from_gt(gt_image)
```

**ä¸ºä»€ä¹ˆä½¿ç”¨GTç”Ÿæˆedgeï¼Ÿ**
- âœ… ä¸è®­ç»ƒä¿æŒä¸€è‡´ï¼ˆè®­ç»ƒæ—¶ç”¨GTç”Ÿæˆedgeï¼‰
- âœ… Edgeè´¨é‡æ›´é«˜ï¼ˆåŸå§‹åˆ†è¾¨ç‡ï¼Œç»†èŠ‚ä¸°å¯Œï¼‰
- âœ… é¿å…domain mismatch

### 2. ç»“æœå¯¹æ¯”

GTå›¾åƒä½œä¸ºå‚è€ƒæ ‡å‡†ï¼Œç”¨äºï¼š
- è¯„ä¼°è¶…åˆ†è¾¨ç‡è´¨é‡
- è®¡ç®—PSNRã€SSIMç­‰æŒ‡æ ‡
- è§†è§‰å¯¹æ¯”

---

## ğŸ§ª æµ‹è¯•ç¤ºä¾‹

### å¿«é€Ÿæµ‹è¯•
```bash
# ç¡®ä¿å·²æ”¾ç½®æµ‹è¯•å›¾åƒ
cd /root/dp/StableSR_Edge_v3/new_features/EdgeInference
ls lr_images/  # æŸ¥çœ‹LRå›¾åƒ
ls gt_images/  # æŸ¥çœ‹GTå›¾åƒ

# è¿è¡Œæµ‹è¯•ï¼ˆä½¿ç”¨GTç”Ÿæˆedgeï¼‰
./test_edge_inference.sh quick
```

### GT-based Edgeæ¨ç†
```bash
python ../../scripts/sr_val_edge_inference.py \
    --init-img lr_images \
    --gt-img gt_images \
    --outdir outputs/test_results \
    --use_edge_processing \
    --config ../../configs/stableSRNew/v2-finetune_text_T_512_edge.yaml \
    --ckpt ../../models/your_model.ckpt
```

---

## ğŸ“Š å›¾åƒè¦æ±‚

### GTå›¾åƒç‰¹ç‚¹
- é«˜åˆ†è¾¨ç‡åŸå§‹å›¾åƒ
- æ— å‹ç¼©æŸå¤±ï¼ˆå»ºè®®PNGæ ¼å¼ï¼‰
- æ¸…æ™°ã€ç»†èŠ‚ä¸°å¯Œ
- ç”¨äºedgeç”Ÿæˆå’Œç»“æœè¯„ä¼°

### ç¤ºä¾‹å°ºå¯¸å¯¹åº”
| GTå°ºå¯¸ | LRå°ºå¯¸ | ä¸‹é‡‡æ ·å€æ•° |
|--------|--------|------------|
| 512Ã—512 | 128Ã—128 | 4x |
| 1024Ã—1024 | 256Ã—256 | 4x |
| 2048Ã—2048 | 512Ã—512 | 4x |

---

## ğŸ’¡ æç¤º

1. **é«˜è´¨é‡**: GTåº”è¯¥æ˜¯æ— æŸæˆ–é«˜è´¨é‡å›¾åƒ
2. **é…å¯¹**: ç¡®ä¿æ¯ä¸ªGTå›¾åƒéƒ½æœ‰å¯¹åº”çš„LRå›¾åƒ
3. **å‘½å**: GTå’ŒLRä½¿ç”¨ç›¸åŒçš„æ–‡ä»¶å
4. **åˆ†è¾¨ç‡**: GTåº”è¯¥æ˜¯LRçš„4å€å¤§å°
5. **å¿…è¦æ€§**: å¼ºçƒˆæ¨èæä¾›GTç”¨äºedgeç”Ÿæˆ

---

## âš ï¸ æ³¨æ„äº‹é¡¹

### å¦‚æœæ²¡æœ‰GTå›¾åƒ

å¯ä»¥ä»LRç”Ÿæˆedgeï¼ˆä¸æ¨èï¼‰ï¼š
```bash
./test_edge_inference.sh lr_edge
```

ä½†è¿™ä¼šå¯¼è‡´ï¼š
- âš ï¸ Domain mismatchï¼ˆè®­ç»ƒç”¨GTï¼Œæ¨ç†ç”¨LRï¼‰
- âš ï¸ Edgeè´¨é‡è¾ƒä½
- âš ï¸ SRæ•ˆæœå¯èƒ½ä¸‹é™

---

## ğŸ”— ç›¸å…³ç›®å½•

- **LRå›¾åƒ**: `../lr_images/` - å¯¹åº”çš„ä½åˆ†è¾¨ç‡è¾“å…¥å›¾åƒ
- **è¾“å‡ºç»“æœ**: è¿è¡Œæµ‹è¯•åä¼šåœ¨é¡¹ç›®æ ¹ç›®å½•çš„`outputs/`ä¸‹ç”Ÿæˆ

---

**åˆ›å»ºæ—¥æœŸ**: 2025-10-15  
**ç”¨é€”**: Edgeæ¨ç†æµ‹è¯•æ•°æ® - GTåŸå§‹å›¾åƒï¼ˆç”¨äºedgeç”Ÿæˆï¼‰

